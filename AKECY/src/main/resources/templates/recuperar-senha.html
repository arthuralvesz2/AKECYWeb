<!DOCTYPE html>
<html>

<head>
	<title> AKECY - Recuperar senha </title>
	<link rel="shortcut icon" href="/images/icon.png" type="image/x-icon">
	<meta charset="utf-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
	<link rel="stylesheet" href="/css/body.css" />
	<link rel="stylesheet" href="/css/header.css" />
	<link rel="stylesheet" href="/css/header-usuario.css" />
	<link rel="stylesheet" href="/css/footer.css" />
	<link rel="stylesheet" href="/css/box.css" />
</head>

<body>
	<header>
		<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
			<div class="container-fluid">
				<a class="navbar-brand" href="/AKECY/index">
					<img src="/images/logo.png" alt="Logo" width="359" height="78"
						class="d-inline-block align-text-top">
				</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
					aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav mx-auto">
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/masculino"> Masculino </a>
						</li>
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/feminino"> Feminino </a>
						</li>
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/infatil"> Infantil </a>
						</li>
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/acessorios"> Acessórios </a>
						</li>
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/equipamentos"> Equipamentos </a>
						</li>
						<li class="nav-item padding-categoria">
							<a class="nav-link categoria" href="/AKECY/categoria/bolas"> Bolas </a>
						</li>
					</ul>
					<div class="d-flex">
						<form class="d-flex me-2" role="search">
							<div class="position-relative form-control-container">
								<input class="form-control me-2" type="search" placeholder="Pesquisar..."
									aria-label="Search">
								<span class="form-control-feedback">
									<svg xmlns="http://www.w3.org/2000/svg" class="bi bi-search" viewBox="0 0 16 16">
										<path
											d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
									</svg>
								</span>
								<div class="form-control-line"></div>
							</div>
						</form>
						<ul class="navbar-nav disabled">
							<li class="nav-item">
								<div class="ocultar-login"></div>
								<a href="/AKECY/usuario/login" class="nav-link">
									<svg data-bbox="0 0 50 50" data-type="shape" xmlns="http://www.w3.org/2000/svg"
										viewBox="0 0 50 50">
										<g>
											<path
												d="M25 48.077c-5.924 0-11.31-2.252-15.396-5.921 2.254-5.362 7.492-8.267 15.373-8.267 7.889 0 13.139 3.044 15.408 8.418-4.084 3.659-9.471 5.77-15.385 5.77m.278-35.3c4.927 0 8.611 3.812 8.611 8.878 0 5.21-3.875 9.456-8.611 9.456s-8.611-4.246-8.611-9.456c0-5.066 3.684-8.878 8.611-8.878M25 0C11.193 0 0 11.193 0 25c0 .915.056 1.816.152 2.705.032.295.091.581.133.873.085.589.173 1.176.298 1.751.073.338.169.665.256.997.135.515.273 1.027.439 1.529.114.342.243.675.37 1.01.18.476.369.945.577 1.406.149.331.308.657.472.98.225.446.463.883.714 1.313.182.312.365.619.56.922.272.423.56.832.856 1.237.207.284.41.568.629.841.325.408.671.796 1.02 1.182.22.244.432.494.662.728.405.415.833.801 1.265 1.186.173.154.329.325.507.475l.004-.011A24.886 24.886 0 0 0 25 50a24.881 24.881 0 0 0 16.069-5.861.126.126 0 0 1 .003.01c.172-.144.324-.309.49-.458.442-.392.88-.787 1.293-1.209.228-.232.437-.479.655-.72.352-.389.701-.78 1.028-1.191.218-.272.421-.556.627-.838.297-.405.587-.816.859-1.24a26.104 26.104 0 0 0 1.748-3.216c.208-.461.398-.93.579-1.406.127-.336.256-.669.369-1.012.167-.502.305-1.014.44-1.53.087-.332.183-.659.256-.996.126-.576.214-1.164.299-1.754.042-.292.101-.577.133-.872.095-.89.152-1.791.152-2.707C50 11.193 38.807 0 25 0">
											</path>
										</g>
									</svg>
									<div class="login-text">
										<span>olá, faça login</span>
										<span>ou cadastre-se</span>
									</div>
								</a>
							</li>
						</ul>
						<div class="d-flex compensar-barra-de-rolagem">
							<input type="checkbox" id="theme-checkbox" class="checkbox" />
							<label for="theme-checkbox" class="toggle-theme">
								<i class="fas fa-moon"></i>
								<i class="fas fa-sun"></i>
							</label>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</header>

	<main>

		<div class="login-box">
			<h2>Recuperar Senha</h2>
			<div id="div-email">
				<p> Identifique-se com seu email para receber um código e confirmar sua identidade </p>
				<form th:action="@{/AKECY/usuario/enviar-codigo}" th:object="${usuario}" method="post">

					<div class="user-box">
						<input th:field="*{email}" placeholder="ㅤ" type="email" required
							pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}">
						<label> Email </label>
					</div>


					<input type="submit" value="Enviar código" id="enviar-codigo">

				</form>
			</div>


			<div id="div-codigo" style="display:none;">
				<form th:action="@{/AKECY/usuario/verificar-codigo}" th:object="${usuario}" method="post">

					<p> Insira o código enviado para o seu email para recuperar a senha </p>
					<div class="user-box">
						<input type="text" placeholder="ㅤ" name="codigo" minlength="6" maxlength="6" required
							oninput="this.value = this.value.replace(/[^0-9]/g, '');">
						<label> Código recebido </label>
					</div>

					<input id="confirmar" type="submit" value="Confirmar">

				</form>
			</div>

			<p class="mensagem" th:if="${serverMessage != null}" th:text="${serverMessage}"></p> <br>
			<p class="baixo-botao"> Lembrou da senha? <a class="link" href="login"> Faça login aqui</a></p>
		</div>

	</main>

	<script src="/js/header.js"></script>
	<script th:inline="javascript">
		var codigoEnviado = /*[[${codigoEnviado}]]*/ false;
		console.log("Valor de codigoEnviado:", codigoEnviado);

		if (codigoEnviado) {
			document.getElementById("div-codigo").style.display = "block";
			document.getElementById("div-email").style.display = "none";
		}
	</script>
</body>

</html>